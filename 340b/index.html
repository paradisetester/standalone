<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" type="text/css" href="css/style.css" />
<link rel="stylesheet" type="text/css" href="css/table.css" />
<link href="css/340b.css" rel="stylesheet" />

<link href="css/bootstrap.min.css" rel="stylesheet" type="text/css" />

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/css/bootstrap-select.css" />
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/fixedheader/3.1.2/css/fixedHeader.dataTables.min.css">

<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/fixedheader/3.1.2/css/fixedHeader.dataTables.min.css">

<div class="outr_states">
    <select id="statesMulti" data-step="1" data-intro="Select state" placeholder="Select state" multiple data-actions-box="true" data-live-search="true" style="display: none;"></select>
    <select id="states" data-step="1" data-intro="Select state"></select>
    <div class="icons-box">
        <span data-step="3" class="my_toggle map_click"><i class="fa fa-globe"></i>Map</span>
        <span data-step="3" class="my_toggle chart_click"><i class="fa fa-line-chart"></i>Chart</span>
    </div>
</div>
<div class="map_container">
    <div class="jsmaps-wrapper-box"><div data-step="2" data-intro="Click on state" class="jsmaps-wrapper" id="usaTerritories-map"></div></div>
</div>
<div class="state_container" style="display:none;">
    <div class="material_outr">
        <div id="state_data"><div class="sidenav-wrapper"></div></div>
    </div>
</div>

<div class="chart_container" >

    <div class="sub-cat" id="active-tab">
        <div class="reimbursement filterBox">
            <div class="label-heading catheading">
                Medicaid Reimbursement for Drugs
                <span class="expand fa"></span>
            </div>
            <div class="service_reimburse">

                <div class="medi-outr filterSec">
                    <h4 class="cat-titl">Delivery System</h4>
                    <ul>
                        <li>
                            <div class="cat-btn">
                                <label class="container">
                                    Fee-for-service (FFS)
                                    <input type="checkbox" class="delivery_system defaultsub-ds" name="delivery_system[]" value="f" checked>
                                    <span class="checkmark"></span>
                                </label>
                            </div>
                        </li>
                        <li>
                            <div class="cat-btn">
                                <label class="container">
                                    Managed Care (MCO)
                                    <input type="checkbox" class="delivery_system defaultsub-cat" name="delivery_system[]" value="m">
                                    <span class="checkmark"></span>
                                </label>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>


            <div class="service_reimburse ">
                <h4 class="cat-titl">Type of Entity/Type of Drugs</h4>
                <!--div class="label-heading catheading">Type of Entity/Type of Drugs
                    <span class="expand fa"></span>
                </div-->
                <div class="medi-outr filterSec">
                    <ul>
                        <li>
                            <div class="cat-btn">
                                <label class="container">
                                    Covered entities for 340B 
                                    <input type="checkbox" class="subcat defaultsub-cat dcat" name="sub-cat[]" value="covered_entities_340B" checked>
                                    <span class="checkmark"></span>
                                </label>
                            </div>
                        </li>
                        <li>
                            <div class="cat-btn">
                                <label class="container">
                                    Contract pharmacies for 340B 
                                    <input type="checkbox" class="subcat" name="sub-cat[]" value="contract_pharmacies_340B">
                                    <span class="checkmark"></span>
                                </label>
                            </div>
                        </li>
                        <li>
                            <div class="cat-btn">
                                <label class="container">
                                    Covered entities for non-340B drugs 
                                    <input type="checkbox" class="subcat" name="sub-cat[]" data-value="" value="covered_entities_non-340B">
                                    <span class="checkmark"></span>
                                </label>
                            </div>
                        </li>
                        <li>
                            <div class="cat-btn">
                                <label class="container">
                                    Contract pharmacies for non-340B drugs 
                                    <input type="checkbox" class="subcat" name="sub-cat[]" value="contract_pharmacies_non-340B">
                                    <span class="checkmark"></span>
                                </label>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="service_reimburse drugs ">
                <ul>
                    <h4 class="cat-titl">Information Requested:</h4>
                    <!--div class="label-heading subheading">Information Requested:
                        <span class="expand fa"></span>
                    </div--->
                    <div class="cat-outr filterSec">
                        <div class="cat-one">

                            <ul>
                                <li>
                                    <div class="cat-btn">
                                        <label class="container">
                                            Ingredient Cost (IC)
                                            <input type="checkbox" class="service dcat" name="service[]" value="ic" data-value="1" checked>
                                            <span class="checkmark"></span>
                                        </label>
                                    </div>
                                </li>
                                <li>
                                    <div class="cat-btn">
                                        <label class="container">
                                            Dispensing Fee (DF)
                                            <input type="checkbox" class="service" name="service[]" value="df" data-value="2" checked>
                                            <span class="checkmark"></span>
                                        </label>
                                    </div>

                                </li>
                                <li>
                                    <div class="cat-btn">
                                        <label class="container">
                                            Clarifying Details (CD)
                                            <input type="checkbox" class="service" name="service[]" value="cd" data-value="3" checked>
                                            <span class="checkmark"></span>
                                        </label>
                                    </div>
                                </li>
                            </ul>
                        </div>


                    </div>
            </div>
        </div>

        <div class="duplicate filterBox">
            <div class="label-heading catheading">
                Mechanism for Prevention of Duplicate Discount
                <span class="expand fa"></span>
            </div>
            <div class="service_reimburse ">

                <div class="medi-outr filterSec">
                    <h4 class="cat-titl">Delivery System</h4>
                    <ul>
                        <li>
                            <div class="cat-btn">
                                <label class="container">
                                    Fee-for-service (FFS)
                                    <input type="checkbox" class="delivery_system1 defaultsub-cat" name="delivery_system1[]" value="f">
                                    <span class="checkmark"></span>
                                </label>
                            </div>
                        </li>
                        <li>
                            <div class="cat-btn">
                                <label class="container">
                                    Managed Care (MCO)
                                    <input type="checkbox" class="delivery_system1 defaultsub-cat" name="delivery_system1[]" value="m">
                                    <span class="checkmark"></span>
                                </label>
                            </div>
                        </li>
                    </ul>
                </div>

                <div class="medi-outr filterSec">
                    <h4 class="cat-titl">Type of Entity</h4>
                    <ul>
                        <li>
                            <div class="cat-btn">
                                <label class="container">
                                    Covered Entity
                                    <input type="checkbox" class="subcat dcat" for="covered_entities" name="sub-cat[]" value="covered_entities">
                                    <input type="checkbox" class="service dcat" name="service[]" id="covered_entities" value="dd" data-value="4">

                                    <span class="checkmark"></span>
                                </label>
                            </div>
                        </li>
                        <li>
                            <div class="cat-btn">
                                <label class="container">
                                    Contract Pharmacy
                                    <input type="checkbox" class="subcat dcat1" for="contract_pharmacies" name="sub-cat[]" value="contract_pharmacies">
                                    <input type="checkbox" class="service" name="service[]" id="contract_pharmacies" value="dd" data-value="5">
                                    <span class="checkmark"></span>
                                </label>
                            </div>
                        </li>
                    </ul>
                </div>

            </div>
        </div>
    </div>
    <table id="example" class="display" style="width:100%">
        <thead>
            <tr>
                <th>States</th>
                <th>FFS Covered Entities IC</th>
                <th>FFS Covered Entities DF</th>
                <th>FFS DDM</th>             
            </tr>
        </thead>

    </table>

</div>
<script type="text/javascript" src="js/jquery-3.3.1.js"></script>
<script type="text/javascript" src="js/jquery.dataTables.min.js"></script>
<script type="text/javascript" src="js/dataTables.jqueryui.min.js"></script>
<script src="js/jsmaps-libs.js" type="text/javascript"></script>
<script src="js/jsmaps.min.js" type="text/javascript"></script>
<script src="https://cdn.jsdelivr.net/npm/whatwg-fetch@3.0/dist/fetch.umd.min.js"></script>

<script type="text/javascript" src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.bundle.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/js/bootstrap-select.min.js"></script>

<script type="text/javascript" src="js/usaTerritories.js"></script>
<script type="text/javascript" src="js/340bmap.js"></script>

<script type="text/javascript" src="js/ellipsis.js"></script>
<script type="text/javascript" src="js/340bchat.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.sticky/1.0.4/jquery.sticky.min.js" type="text/javascript"></script>
<script type="text/javascript" src="https://cdn.datatables.net/fixedheader/3.1.3/js/dataTables.fixedHeader.min.js"></script>

<script>
    var value, introJ = '', step = false;
$('.chart_container').hide();
    //map-->
    jQuery('#usaTerritories-map').JSMaps({
        map: 'usaTerritories',
        mapWidth: 800,
        mapHeight: 600,
        stateClickAction: "none",
        onStateClick: function (res) {
            if (step) {
                introJ.goToStep(3).start().previousStep();
                step = false;
            }
            checkJson(res.name);
            var abbri = res.abbreviation;
            var dataLayer = window.dataLayer = window.dataLayer || [];
            dataLayer.push({ 'event': 'ClickonMap' });
            ({ 'event': '5Sec Event' });
            ({ 'event': 'Track UserID', 'userID': '2' });

        }
    });

    //map toggle

    jQuery(document).on('change', '#states', function () {
        var val = jQuery(this).val();
        checkJson(val);
    });

    jQuery('body').on('click', 'a[href*="#"]', function (e) {
        jQuery('.active_source').removeClass('active_source');
        var stck = jQuery(this).attr('href');
        jQuery(stck).addClass('active_source');


    });

    //maptoggle
    jQuery(document).ready(function () {

        jQuery(".map_click").click(function () {
		
            jQuery(".state_container").hide();
            jQuery(".chart_container").hide();
            jQuery("#statesMulti").hide();
            jQuery(".map_container").show();
            jQuery("#states").show();
            jQuery(".bootstrap-select.show-tick").hide();
			jQuery($.fn.dataTable.tables()).DataTable().fixedHeader.disable();
        });

        jQuery(".chart_click").click(function () {
		
            jQuery(".state_container").hide();
            jQuery(".chart_container").show();
            jQuery(".map_container").hide();
            jQuery("#statesMulti").show();
            jQuery("#states").hide();
            jQuery(".bootstrap-select.show-tick").show();
			
			jQuery($.fn.dataTable.tables()).DataTable().fixedHeader.enable();
			jQuery($.fn.dataTable.tables()).DataTable().fixedHeader.adjust();
        });


        jQuery('body').on('click', '.stateClick', function (e) {
			jQuery($.fn.dataTable.tables()).DataTable().fixedHeader.disable();
            var val = jQuery(this).attr('data-id');
            checkJson(val);

        });



    });
    //drug toggle
    jQuery(".label-heading").click(function () {

        jQuery(this).parents('.filterBox').toggleClass('active');
    });

</script>